# 🏛️ 罗马大浴场 Roman Bath - 开发计划

---

## 📌 项目状态：活跃开发中

**版本**: 0.2.0-dev  
**最后更新**: 2024-12-28

---

## ✅ 已完成功能

### 核心功能
- [x] SillyTavern 后端集成
- [x] 多 API Provider 支持 (OpenAI, OpenRouter, Google, Perplexity, KoboldHorde, Ollama)
- [x] 本地反代 API (Local Proxy) 支持
- [x] 角色列表加载和选择
- [x] 实时消息生成
- [x] 多语言支持 (EN, 简体中文, 繁體中文)

### UI/UX
- [x] 玻璃态设计 (Glassmorphism)
- [x] 深色主题
- [x] 响应式布局
- [x] Toast 通知系统
- [x] 消息格式化 (动作/对话颜色区分)
- [x] Markdown 渲染器

### 设置功能
- [x] API 连接测试
- [x] API Key 持久化保存
- [x] 高级采样器设置
- [x] 预设样式 (Natural, Sexy, Flirty, Horny, Custom)
- [x] 温度、Top-P 等参数调节

### 开发工具
- [x] Vite 开发服务器
- [x] CORS 代理配置
- [x] TypeScript 类型定义

---

## 🚧 进行中

### 优先级 P0 (关键)
- [ ] 聊天历史保存/加载 (修复 400 错误)
- [ ] 流式响应 (Streaming)

### 优先级 P1 (重要)
- [ ] 字体自定义选项
- [ ] 主题颜色自定义
- [ ] 角色卡片详情查看/编辑

---

## 📋 待开发功能

### 优先级 P2 (计划中)
- [ ] World Info / Lorebook 集成
- [ ] 用户 Persona 管理
- [ ] 聊天导出 (JSON/TXT/HTML)
- [ ] 消息编辑/重新生成
- [ ] 消息分支 (Swipe)
- [ ] 快捷回复/常用语

### 优先级 P3 (未来)
- [ ] 语音合成 (TTS)
- [ ] 语音输入 (STT)
- [ ] 图片生成集成
- [ ] 多角色群聊
- [ ] 移动端 PWA
- [ ] 插件系统

---

## 🎨 UI 改进计划

### 即将实现
- [ ] 字体选择器 (无衬线/衬线/圆体)
- [ ] 消息气泡样式选项
- [ ] 背景图片自定义
- [ ] 玻璃模糊度调节

### 长期计划
- [ ] 主题系统 (多套预设主题)
- [ ] 自定义 CSS 注入
- [ ] 响应式侧边栏
- [ ] 快捷键支持

---

## 🐛 Bug 修复清单

| 状态 | Bug 描述 | 优先级 |
|------|----------|--------|
| ⏳ | 聊天保存 API 偶尔返回 400 | P0 |
| ✅ | API Key 输入框重复显示 | - |
| ✅ | 本地 API 连接 CORS 错误 | - |
| ✅ | 消息格式化孤立星号 | - |

---

## 💡 技术债务

- [ ] 代码重构：拆分大型组件
- [ ] 单元测试覆盖
- [ ] 性能优化：消息虚拟滚动
- [ ] 错误边界 (Error Boundary)
- [ ] 离线缓存 (Service Worker)

---

## 📚 文档计划

- [ ] API 文档
- [ ] 组件文档
- [ ] 部署指南
- [ ] 贡献指南

---

## 📅 里程碑

### v0.2.0 - 完善基础功能
- 目标日期: 2025-01-05
- 聊天保存/加载
- 流式响应
- 字体自定义
- 基本文档

### v0.3.0 - 增强用户体验
- 目标日期: 2025-01-15
- World Info 集成
- 消息编辑/重生成
- 主题系统
- 移动端优化

### v1.0.0 - 正式发布
- 目标日期: 2025-02-01
- 功能完整稳定
- 完整文档
- 性能优化
- 社区反馈整合

---

*此计划会根据实际进度和用户反馈持续更新*
